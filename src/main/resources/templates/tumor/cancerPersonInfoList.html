<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:fragment="head(title,links,scripts)">
    <meta charset="UTF-8">
    <!--<title th:replace="${title}">肿瘤早发现</title>-->
    <script src="../static/js/jquery.min.js" th:src="@{/js/jquery.min.js}" type="text/javascript"></script>
    <script src="../static/js/common.js" th:src="@{/js/common.js}" type="text/javascript"></script>

    <script src="../static/lib/miniui/miniui.js" th:src="@{/lib/miniui/miniui.js}" type="text/javascript"></script>
    <link href="../static/lib/miniui/themes/icons.css" th:href="@{/lib/miniui/themes/icons.css}" rel="stylesheet" type="text/css" />
    <link href="../static/lib/miniui/themes/default/miniui.css" th:href="@{/lib/miniui/themes/default/miniui.css}" rel="stylesheet" type="text/css" />

    <link href="../static/css/style.css" th:href="@{/css/style.css}" rel="stylesheet" type="text/css" />
    <link href="../static/css/my-mini.css" th:href="@{/css/my-mini.css}" rel="stylesheet" type="text/css" />

    <!--[if lt IE 9]>
    <script src="../js/html5shiv.min.js" th:src="@{/js/html5shiv.min.js}"></script>
    <script src="../js/respond.js" th:src="@{/js/respond.js}"></script>
    <![endif]-->
    <!--[if lte IE 11]>
    <script type="text/javascript" src="../static/js/flexie.js" th:src="@{/js/flexie.js}"></script>
    <script type="text/javascript" src="../static/js/selectivizr.js" th:src="@{/js/selectivizr.js}"></script>
    <script type="text/javascript" src="../static/js/PIE_IE678.js" th:src="@{/js/PIE_IE678.js}"></script>
    <![endif]-->
    <link href="../lib/font-awesome/css/font-awesome.min.css" th:href="@{/lib/font-awesome/css/font-awesome.min.css}" rel="stylesheet" type="text/css" />

   <!-- <th:block th:replace="${links}" />
    <th:block th:replace="${scripts}" />-->
</head>
<body>

<div class="content pd-10" style="width:auto; overflow: hidden;">
    <div class="mini-tabs" activeIndex="0" style=" width:100%; overflow: hidden;">
        <div title="初筛一览">
            <div class="search-div-box mb-10">
                <table width="99%" border="0">
                    <tbody>
                    <tr>
                        <td align="left">
                            <div class="keyword">
                                <input id="keyword" name="keyword" class="radius" placeholder="可按照姓名或者身份证号模糊查询" data-tooltip="输入身份证号时至少6位" type="text">
                                <div class="my-btn my-btn-blue" onclick="onSearch()">搜索</div>
                            </div>
                        </td>
                        <td width="100px" align="center">
                            <span  onclick="toggleVisibility(div1)"><strong style="color:#3f93d4">高级搜索&nbsp;<img
                                    src="static/images/pp_down.png" id="pctid"></strong></span></td>
                        <td align="left"></td>
                        <td style="width: 200px" align="right">

                        </td>
                    </tr>
                    </tbody>
                </table>
                <div id="div1" style=" display: none;" class="mt-10">
                    <div class="mini-row">
                        <div class="mini-col-3"><label class="mr-5">ID编号：</label>
                            <input id="id" name="id" type="text" class="mini-textbox" width="63%">
                        </div>
                        <div class="mini-col-3"><label class="mr-5">初筛年份：</label>

                            <input  id="csnf" name="csnf" type="text" class="mini-textbox">
                        </div>

                    </div>
                    <div class="mini-row">
                        <div class="mini-col-3"><label class="mr-5">登记机构所属区：</label>
                            <input id="regarea" name="regarea" showNullItem="true" class="mini-combobox" width="43%"
                                   data='[{"id":"01","text":"徐汇区","pinyin":"xx01"},{"id":"02","text":"普陀区","pinyin":"xx02"},{"id":"03","text":"宝山区","pinyin":"xx02"}]'
                                   textField="text" valueField="id" /> <!--th:disabled="${userType =='sfy' ? false:true}"-->
                        </div>
                        <div class="mini-col-3"><label class="mr-5">登记机构：</label>

                            <input id="regorg" name="regorg" showNullItem="true" class="mini-combobox"
                                   data='[{"id":"01","text":"请选择","pinyin":"xx01"}]'
                                   textField="text" valueField="id"/>
                        </div>
                        <div class="mini-col-4"><label class="mr-5">初筛登记日期：</label>

                            <input id="beginDateFrom" name="beginDateFrom" class="mini-datepicker"
                                   value="" allowInput="false" style="width: 30%;" errorMode="border" onvalidation="dateValidation">

                            -
                            <input id="endDateFrom" name="endDateFrom" class="mini-datepicker"
                                   value="" allowInput="false" style="width: 30%;" errorMode="border" onvalidation="dateValidation">
                        </div>
                        <div class="mini-col-2"><label class="mr-5">初筛状态：</label>

                            <input id="status" name="status" showNullItem="true" class="mini-combobox"
                                   data='[{"id":"01","text":"请选择","pinyin":"xx01"}]'
                                   textField="text" valueField="id" width="40%"/>
                        </div>

                    </div>
                    <div class="mini-row">
                        <div class="mini-col-12"><label class="mr-5">大肠癌危险评估结果：</label>
                            <input id="crcAssessmentResult" name="crcAssessmentResult" showNullItem="true" class="mini-combobox" width="8%"
                                   data='[{"id":"01","text":"徐汇区","pinyin":"xx01"},{"id":"02","text":"普陀区","pinyin":"xx02"},{"id":"03","text":"宝山区","pinyin":"xx02"}]'
                                   textField="text" valueField="id"/>

                            <label class="mr-5">第一次便隐血结果：</label>

                            <input id="firstFobtResult" name="firstFobtResult" showNullItem="true" class="mini-combobox"
                                   data='[{"id":"01","text":"请选择","pinyin":"xx01"}]'
                                   textField="text" valueField="id" width="8%"/>

                            <label class="mr-5">第二次便隐血结果：</label>

                            <input id="secondFobtResult" name="secondFobtResult" showNullItem="true" class="mini-combobox"
                                   data='[{"id":"01","text":"请选择","pinyin":"xx01"}]'
                                   textField="text" valueField="id" width="8%"/>

                            <label class="mr-5">便隐血检查结果：</label>

                            <input id="fobtResult" name="fobtResult" showNullItem="true" class="mini-combobox"
                                   data='[{"id":"01","text":"请选择","pinyin":"xx01"}]'
                                   textField="text" valueField="id" width="8%"/>

                            <label class="mr-5">大肠癌判定结果：</label>

                            <input id="crcResult" name="crcResult"  showNullItem="true" class="mini-combobox"
                                   data='[{"id":"01","text":"请选择","pinyin":"xx01"}]'
                                   textField="text" valueField="id" width="8%"/>
                        </div>

                    </div>
                    <div class="mini-row">
                        <div class="mini-col-3"><label class="mr-5">肝癌危险评估结果：</label>
                            <input id="licAssessmentResult" name="licAssessmentResult" showNullItem="true" class="mini-combobox" width="37%"
                                   data='[{"id":"01","text":"阳性","pinyin":"xx01"},{"id":"02","text":"阴性","pinyin":"xx02"},{"id":"03","text":"辅助检查未完成","pinyin":"xx02"}]'
                                   textField="text" valueField="id"/>
                        </div>
                        <div class="mini-col-3"><label class="mr-5">肝癌辅助检查结果：</label>

                            <input id="licAssistResult"  name="licAssistResult" showNullItem="true" class="mini-combobox"
                                   data='[{"id":"01","text":"辅助检查未完成","pinyin":"xx01"}]'
                                   textField="text" valueField="id" width="43%"/>
                        </div>
                        <div class="mini-col-4">    <label class="mr-5">肝癌判定结果：</label>

                            <input id="licResult" name="licResult" showNullItem="true" class="mini-combobox"
                                   data='[{"id":"01","text":"辅助检查未完成","pinyin":"xx01"}]'
                                   textField="text" valueField="id" width="33%"/>
                        </div>

                    </div>
                    <div class="mini-row">
                        <div class="mini-col-3"><label class="mr-5">胃癌判定结果：</label>
                            <input id="scResult" name="scResult" showNullItem="true" class="mini-combobox" width="47%"
                                   data='[{"id":"01","text":"阳性","pinyin":"xx01"},{"id":"02","text":"阴性","pinyin":"xx02"},{"id":"03","text":"辅助检查未完成","pinyin":"xx02"}]'
                                   textField="text" valueField="id"/>
                        </div>
                        <div class="mini-col-3"><label class="mr-5">肺癌判定结果：</label>

                            <input id="lucResult" name="lucResult" showNullItem="true" class="mini-combobox"
                                   data='[{"id":"01","text":"辅助检查未完成","pinyin":"xx01"}]'
                                   textField="text" valueField="id" width="43%"/>
                        </div>


                    </div>
                    <div class="mini-row">
                        <div class="mini-col-4">
                            <button class="my-btn my-btn-blue" onclick="location.href='新增筛查信息.html'">新增初筛登记</button>
                            <button class="my-btn my-btn-blue">提交数据</button>

                        </div>
                    </div>

                </div>

            </div>

           <!-- <div class="grid-box">
                <table class="table_new">
                    <thead><tr><th><input type="checkbox"></th><th>姓名</th><th>身份证号</th><th>性别</th><th>评估员</th><th>大肠癌初筛ID</th><th>大肠癌危险评估结果</th></tr></thead>
                    <tbody>
                    <tr><td><input type="checkbox"></td><td >张三</td><td>310102XXXXXXXXXXXX</td><td>男</td><td>XXX</td><td>XXX</td><td>XXX</td></tr>
                    </tbody>
                </table>
            </div>-->

            <div id="datagrid" class="mini-datagrid" style="width:100%; height:auto;"
                 allowResize="false" url="data" sizeList="[10,20,50]" pageSize="20" idField="id" multiSelect="false">
                <div property="columns">
                    <div type="indexcolumn" width="40px" headerAlign="center" align="center">序号</div>
                    <div type="action" renderer="actionRenderer" width="120px" headerAlign="center" style="min-width:100px; width:auto;" align="center">操作</div>
                    <div field="name" sortField="name" renderer="nameRenderer" headerAlign="center" align="center"
                         allowSort="false">姓名
                    </div>
                    <!--<div type="comboboxcolumn" autoShowPopup="true" name="gender" field="gender" headerAlign="center"
                         align="center" allowSort="true" sortField="gender">性别
                        <input property="editor" class="mini-combobox" style="width:100%;" textField="name"
                               valueField="code" th:data='${#dic.generals("XB")}'/>
                    </div>-->
                    <div field="age" sortField="age" headerAlign="center" align="center" allowSort="true">年龄</div>
                    <div field="cardNo" sortField="cardNo" renderer="sfzhRenderer" width="200px" headerAlign="center" align="center"
                         allowSort="false">证件号码
                    </div>
                    <div field="djDate" sortField="djDate" headerAlign="center" align="center" allowSort="true"
                         dateFormat="yyyy-MM-dd">登记日期
                    </div>
                    <div field="djDoctor" sortField="djDoctor" headerAlign="center" align="center" allowSort="true">登记医生
                    </div>
                    <div field="zrDoctor" sortField="zrDoctor" headerAlign="center" align="center" allowSort="true">责任医生
                    </div>
                </div>
            </div>

        </div>

    </div>
</div>
</body>
<script type="text/javascript" th:inline="javascript">
    mini.parse();
    var grid = mini.get("datagrid");
    var form = new mini.Form('#div1');

    function toggleVisibility(div1) {
        if (div1.style.display == "") {
            div1.style.display = "none";
            document.getElementById("pctid").src = 'static/images/pp_up.png';
        } else {
            div1.style.display = "";
            document.getElementById("pctid").src = 'static/images/pp_down.png';
        }
    }

    function onSearch() {
        var keyword = $("#keyword").val();
        if (!validateKey(keyword)) {
            return;
        }
        var data = form.getData(true);
        grid.load(data, gridLoadSuccess, gridLoadError);
    }





</script>

</html>

