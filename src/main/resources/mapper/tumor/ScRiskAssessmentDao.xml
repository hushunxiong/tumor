<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.wonders.health.tumor.tumor.dao.ScRiskAssessmentDao">
    
	<sql id="ScRiskAssessmentColumns">
		a.id AS "id",a.sc_check_id AS "scCheckId",a.xinxianshucai AS "xinxianshucai",a.xinxianshuiguo AS "xinxianshuiguo",a.xinxianroulei AS "xinxianroulei",a.jiagongroulei AS "jiagongroulei",a.meibianshiwu AS "meibianshiwu",a.hejiu AS "hejiu",a.hejiupinlv AS "hejiupinlv",a.shifouzhidaohejiuliang AS "shifouzhidaohejiuliang",a.hejiuliang AS "hejiuliang",a.weisuoxingweiyan AS "weisuoxingweiyan",a.shierzhichangkuiyang AS "shierzhichangkuiyang",a.weichuxue AS "weichuxue",a.shiguanyan AS "shiguanyan",a.weixirou AS "weixirou",a.canwei AS "canwei",a.pinxue AS "pinxue",a.aizhengshi AS "aizhengshi",a.qinshu_aizhengshi AS "qinshuAizhengshi",a.assessment_result AS "assessmentResult",a.assessment_doc AS "assessmentDoc",a.assessment_doc_name AS "assessmentDocName",a.assessment_date AS "assessmentDate",a.risk_quality_flag AS "riskQualityFlag",a.upload_time AS "uploadTime",a.del_flag AS "delFlag",a.create_by AS "createBy",a.create_date AS "createDate"
	</sql>

	<select id="get" resultType="com.wonders.health.tumor.tumor.entity.ScRiskAssessment">
		SELECT 
			<include refid="ScRiskAssessmentColumns"/>
		FROM sc_risk_assessment a
		WHERE a.id = #{id}
	</select>

	<select id="getByCheckid" resultType="com.wonders.health.tumor.tumor.entity.ScRiskAssessment">
		SELECT
		<include refid="ScRiskAssessmentColumns"/>
		FROM sc_risk_assessment a
		WHERE a.sc_check_id = #{checkid} and a.del_flag='0'
	</select>

	<select id="findAll" resultType="com.wonders.health.tumor.tumor.entity.ScRiskAssessment">
		SELECT 
			<include refid="ScRiskAssessmentColumns"/>
		FROM sc_risk_assessment a
		<where>
			a.del_flag = '0'
		</where>		
	</select>
	<!-- 分页模块 -->
	<sql id="pageFromAndWhere">
      FROM sc_risk_assessment a
      <where>
		a.del_flag = '0'
	  </where>
    </sql>

    <select id="pageCount" resultType="java.lang.Integer"
            parameterType="com.wonders.health.tumor.common.model.DataGridSearch">
        select count(1)
        <include refid="pageFromAndWhere"/>
    </select>


    <select id="pageList" resultType="com.wonders.health.tumor.tumor.entity.ScRiskAssessment"
            parameterType="com.wonders.health.tumor.common.model.DataGridSearch">
		<choose>
			<when test="startRecord == 0">
		select * from (
			</when>
			<otherwise>
		select * from ( select row_.*, rownum rownum_ from (
			</otherwise>
		</choose>
        select
			<include refid="ScRiskAssessmentColumns"/>
        <include refid="pageFromAndWhere"/>
		<choose>
			<when test="sortField != null and sortField != '' and sortOrder != '' and sortOrder != ''">
				ORDER BY ${sortField} ${sortOrder}
			</when>
			<otherwise>
			</otherwise>
		</choose>
		<choose>
			<when test="startRecord == 0">
		) row_ where rownum &lt;= #{pageSize}
			</when>
			<otherwise>
		) row_ where rownum &lt;= #{endRecord}) where rownum_ &gt; #{startRecord}
			</otherwise>
		</choose>
    </select>
	
	<insert id="insert">
		INSERT INTO sc_risk_assessment(
		id,sc_check_id,xinxianshucai,xinxianshuiguo,xinxianroulei,jiagongroulei,meibianshiwu,hejiu,hejiupinlv,shifouzhidaohejiuliang,hejiuliang,weisuoxingweiyan,shierzhichangkuiyang,weichuxue,shiguanyan,weixirou,canwei,pinxue,aizhengshi,qinshu_aizhengshi,assessment_result,assessment_doc,assessment_doc_name,assessment_date,risk_quality_flag,upload_time,del_flag,create_by,create_date
		) VALUES (
		#{id},#{scCheckId},#{xinxianshucai},#{xinxianshuiguo},#{xinxianroulei},#{jiagongroulei},#{meibianshiwu},#{hejiu},#{hejiupinlv},#{shifouzhidaohejiuliang},#{hejiuliang},#{weisuoxingweiyan},#{shierzhichangkuiyang},#{weichuxue},#{shiguanyan},#{weixirou},#{canwei},#{pinxue},#{aizhengshi},#{qinshuAizhengshi},#{assessmentResult},#{assessmentDoc},#{assessmentDocName},#{assessmentDate},#{riskQualityFlag},#{uploadTime},#{delFlag},#{createBy},#{createDate}
		)
	</insert>
	
	<update id="update">
		UPDATE sc_risk_assessment SET
		id = #{id},sc_check_id = #{scCheckId},xinxianshucai = #{xinxianshucai},xinxianshuiguo = #{xinxianshuiguo},xinxianroulei = #{xinxianroulei},jiagongroulei = #{jiagongroulei},meibianshiwu = #{meibianshiwu},hejiu = #{hejiu},hejiupinlv = #{hejiupinlv},shifouzhidaohejiuliang = #{shifouzhidaohejiuliang},hejiuliang = #{hejiuliang},weisuoxingweiyan = #{weisuoxingweiyan},shierzhichangkuiyang = #{shierzhichangkuiyang},weichuxue = #{weichuxue},shiguanyan = #{shiguanyan},weixirou = #{weixirou},canwei = #{canwei},pinxue = #{pinxue},aizhengshi = #{aizhengshi},qinshu_aizhengshi = #{qinshuAizhengshi},assessment_result = #{assessmentResult},assessment_doc = #{assessmentDoc},assessment_doc_name = #{assessmentDocName},assessment_date = #{assessmentDate},risk_quality_flag = #{riskQualityFlag},upload_time = #{uploadTime},del_flag = #{delFlag},create_by = #{createBy},create_date = #{createDate}
		WHERE id = #{id}
	</update>

	<update id="delete">
	    UPDATE sc_risk_assessment SET del_flag = '1'
	    WHERE id = #{id}
	</update>

	<update id="deleteByCheckId">
	    UPDATE sc_risk_assessment SET del_flag = '1'
	    WHERE sc_check_id = #{checkId}
	</update>

	
</mapper>